(window["webpackJsonpnoteful-client"]=window["webpackJsonpnoteful-client"]||[]).push([[0],{201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(77),c=n.n(o),l=n(20),s=n(21),i=n(210),u=(n(91),n(92),n(40)),d=n(6),m=n(7),f=n(10),h=n(8),p=n(11),v=n(81),b=n(39),E=n(9),N=n(209),g=n(78),O=n(82);n(95);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function y(e){e.tag,e.className,e.childrenm;var t=Object(O.a)(e,["tag","className","childrenm"]);return r.a.createElement(e.tag,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:["NavCircleButton",e.className].join(" ")},t),e.children)}y.defaultProps={tag:"a"};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find(function(e){return e.id===t})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter(function(e){return e.folderId===t}).length};n(96);function w(e){return r.a.createElement("div",{className:"NoteListNav"},r.a.createElement("ul",{className:"NoteListNav__list"},e.folders.map(function(t){return r.a.createElement("li",{key:t.id},r.a.createElement(N.a,{className:"NoteListNav__folder-link",to:"/folder/".concat(t.id)},r.a.createElement("span",{className:"NoteListNav__num-notes"},k(e.notes,t.id)),t.name))})),r.a.createElement("div",{className:"NoteListNav__button-wrapper"},r.a.createElement(y,{tag:b.a,to:"/add-folder",type:"button",className:"NoteListNav__add-folder-button"},r.a.createElement(E.a,{icon:"plus"}),r.a.createElement("br",null),"Folder")))}w.defaultProps={folders:[]};n(98);function S(e){return r.a.createElement("div",{className:"NotePageNav"},r.a.createElement(y,{tag:"button",role:"link",onClick:function(){return e.history.goBack()},className:"NotePageNav__back-button"},r.a.createElement(E.a,{icon:"chevron-left"}),r.a.createElement("br",null),"Back"),e.folder&&r.a.createElement("h3",{className:"NotePageNav__folder-name"},e.folder.name))}S.defaultProps={history:{goBack:function(){}}};var M=n(80);n(201);function C(e){return r.a.createElement("div",{className:"Note"},r.a.createElement("h2",{className:"Note__title"},r.a.createElement(b.a,{to:"/note/".concat(e.id)},e.name)),r.a.createElement("button",{className:"Note__delete",type:"button"},r.a.createElement(E.a,{icon:"trash-alt"})," ","remove"),r.a.createElement("div",{className:"Note__dates"},r.a.createElement("div",{className:"Note__dates-modified"},"Modified"," ",r.a.createElement("span",{className:"Date"},Object(M.format)(e.modified,"Do MMM YYYY")))))}n(202);function P(e){return r.a.createElement("section",{className:"NoteListMain"},r.a.createElement("ul",null,e.notes.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(C,{id:e.id,name:e.name,modified:e.modified}))})),r.a.createElement("div",{className:"NoteListMain__button-container"},r.a.createElement(y,{tag:b.a,to:"/add-note",type:"button",className:"NoteListMain__add-note-button"},r.a.createElement(E.a,{icon:"plus"}),r.a.createElement("br",null),"Note")))}P.defaultProps={notes:[]};n(203);function I(e){return r.a.createElement("section",{className:"NotePageMain"},r.a.createElement(C,{id:e.note.id,name:e.note.name,modified:e.note.modified}),r.a.createElement("div",{className:"NotePageMain__content"},e.note.content.split(/\n \r|\n/).map(function(e,t){return r.a.createElement("p",{key:t},e)})))}I.defaultProps={note:{content:""}};var D=n(5),F=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={errors:"",value:""},n.handleChange=n.handleChange.bind(Object(D.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(D.a)(n)),n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={name:this.state.value};this.props.folderId&&(n.folderId=this.props.folderId),n.name?fetch("http://localhost:9090/folders",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){t.props.addFolder(e),t.props.history.push("/")}).catch(function(e){return console.error("Error:",e)}):this.setState({errors:"field cannot be blank"})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S,this.props),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Folder Name:",r.a.createElement("input",{type:"text",name:"newFolder",value:this.state.value,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"Submit"}),this.state.errors&&r.a.createElement("span",{className:"Error__text"},this.state.errors)))}}]),t}(a.Component),L=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(f.a)(this,Object(h.a)(t).call(this))).state={showMenu:!1},e.showMenu=e.showMenu.bind(Object(D.a)(e)),e.closeMenu=e.closeMenu.bind(Object(D.a)(e)),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"showMenu",value:function(e){var t=this;e.preventDefault(),this.setState({showMenu:!0},function(){document.addEventListener("click",t.closeMenu)})}},{key:"closeMenu",value:function(e){var t=this;this.dropdownMenu.contains(e.target)||this.setState({showMenu:!1},function(){document.removeEventListener("click",t.closeMenu)})}},{key:"render",value:function(){var e=this;return console.log(this.props.folders.folders),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.showMenu},"Select Folder"),this.state.showMenu?r.a.createElement("div",{className:"Dropdown__menu",ref:function(t){e.dropdownMenu=t}}):null)}}]),t}(a.Component),x=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=n(204),r={name:a.state.value,modified:new Date,content:t.generate({words:30})};a.props.folderId&&(r.folderId=a.props.folderId),r.name?fetch("http://localhost:9090/notes",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a.props.addNote(e),a.props.history.push("/")}).catch(function(e){return console.error("Error:",e)}):a.setState({errors:"field cannot be blank"})},a.state={errors:"",value:""},a.handleChange=a.handleChange.bind(Object(D.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(D.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S,this.props),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Enter Note Name:",r.a.createElement("input",{type:"text",name:"newNote",value:this.state.value,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"Submit"}),this.state.errors&&r.a.createElement("span",{className:"Error__text"},this.state.errors)),r.a.createElement(L,{folders:this.props}))}}]),t}(a.Component),A=(n(207),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={hasError:!1},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"Something went wrong. Try again."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component)),B=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={notes:[],folders:[]},n.addFolder=function(e){n.setState({folders:[].concat(Object(u.a)(n.state.folders),[e])})},n.addNote=function(e){n.setState({notes:[].concat(Object(u.a)(n.state.notes),[e])})},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:9090/folders").then(function(e){return e.json()}).then(function(t){return e.setState({folders:t})}).catch(function(e){return console.error("Error:",e)}),fetch("http://localhost:9090/notes").then(function(e){return e.json()}).then(function(t){return e.setState({notes:t})}).catch(function(e){return console.error("Error:",e)})}},{key:"renderNavRoutes",value:function(){var e=this,t=this.state,n=t.notes,a=t.folders;return r.a.createElement(r.a.Fragment,null,["/","/folder/:folderId"].map(function(e){return r.a.createElement(v.a,{exact:!0,key:e,path:e,render:function(e){return r.a.createElement(w,Object.assign({folders:a,notes:n},e))}})}),r.a.createElement(v.a,{path:"/note/:noteId",render:function(e){var t=e.match.params.noteId,o=_(n,t)||{},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find(function(e){return e.id===t})}(a,o.folderId);return r.a.createElement(S,Object.assign({},e,{folder:c}))}}),r.a.createElement(v.a,{path:"/add-folder",render:function(t){return r.a.createElement(F,Object.assign({},t,{addFolder:e.addFolder}))}}))}},{key:"renderMainRoutes",value:function(){var e=this,t=this.state,n=t.notes;t.folders;return r.a.createElement(r.a.Fragment,null,["/","/folder/:folderId"].map(function(e){return r.a.createElement(v.a,{exact:!0,key:e,path:e,render:function(e){var t=e.match.params.folderId,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter(function(e){return e.folderId===t}):e}(n,t);return r.a.createElement(P,Object.assign({},e,{notes:a}))}})}),r.a.createElement(v.a,{path:"/note/:noteId",render:function(e){var t=e.match.params.noteId,a=_(n,t);return r.a.createElement(I,Object.assign({},e,{note:a}))}}),r.a.createElement(v.a,{path:"/add-note",render:function(t){return r.a.createElement(x,Object.assign({},t,{addNote:e.addNote,folderId:t.match.params.folderId,folders:e.state.folders}))}}))}},{key:"render",value:function(){return r.a.createElement(A,null,r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"App__nav"},this.renderNavRoutes()),r.a.createElement("header",{className:"App__header"},r.a.createElement("h1",null,r.a.createElement(b.a,{to:"/"},"Noteful")," ",r.a.createElement(E.a,{icon:"check-double"}))),r.a.createElement("main",{className:"App__main"},this.renderMainRoutes())))}}]),t}(a.Component);l.b.add(s.c,s.b,s.d,s.a),c.a.render(r.a.createElement(i.a,null,r.a.createElement(B,null)),document.getElementById("root"))},83:function(e,t,n){e.exports=n(208)},92:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},98:function(e,t,n){}},[[83,1,2]]]);
//# sourceMappingURL=main.87194ce6.chunk.js.map